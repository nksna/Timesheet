<div class="content mt-3" *ngIf="userRole.role === 'admin'">
    <!-- Additional content goes here -->
    <div class="mb-3">
      <label for="search" class="form-label">Search:</label>
      <input type="text" class="form-control" id="search" [(ngModel)]="searchTerm">
    </div>

    <table class="table">
      <thead>
        <tr>
          <th (click)="sortData('SNo')">SNo </th>
                <th>Employee id</th>
          <th (click)="sortData('StartTime')">Start Time </th>
          <th (click)="sortData('StopTime')">Stop Time </th>
          <th (click)="sortData('TotalHour')">Total Hour </th>
          <th (click)="sortData('UpdateDate')">Updatedate </th>
          <th>Status</th>
          <th>Updated By</th>
          <th>Action</th> <!-- New column for actions -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let x of attendance; let i = index">
          <!-- Use filteredAttendance instead of attendance in ngFor -->
          <td>{{i + 1}}</td>
          <td>{{x.data.startTime.userid}}</td>
          <td>{{x.data.startTime.StartTime}}</td>
          <td>{{x.data.startTime.StopTime}}</td>
          <td>{{x.data.startTime.totalhours}}</td>
          <td>{{x.data.startTime.updateDate.toDate() | date: 'yyyy-MM-dd'}}</td>
          <td [ngClass]="statusCode(x.data.startTime.status)">
            <ul><li>{{x.data.startTime.status}}</li></ul>
          </td>
          <td>{{x.data.startTime.updateby ? x.data.startTime.updateby : 'Krishna'}}</td>
          <td *ngIf="userRole.role === 'admin'" class="d-grid">
            <button class="btn btn-secondary mb-2" (click)="deleteUser(x.id)"><i class="bi bi-trash me-2"></i>Delete</button>
            <button class="btn btn-success mb-2" (click)="approveAttendance(x.id)"><i class="bi bi-check"></i>Approve</button>
            <button class="btn btn-danger" (click)="rejectAttendance(x.id)"><i class="bi bi-x me-2"></i>Reject</button>
          </td>
        </tr>
      </tbody>
    </table>

  </div>

</div>
<div class="d-flex justify-content-center align-items-center loader-overlay" *ngIf="isLoading">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div> 

